<% provide(:title, "Veggies")%>

<% if @vegetables.blank? %>
<h4> There isn't any vegetable currently in the system. </h4>
<% else %>
<h4> All Veggies </h4>

<div>
	<table id ="veggie_list">
		<thead>
			<tr>
				<th>S.N.</th>
				<th>Name</th>
				<th>Variety</th>
				<th>Color</th>
				<th>Time</th>
				<th>Plantation Name</th>
				<th>Plantation Location</th>
				<th>Created At</th>
				<th>Actions</th>
			</tr>
		</thead>
		<tbody>
			<tr>
			<% @vegetables.each do |v| %>
				<td> <%= v.id %> </td>
				<td><%= v.name %></td>
				<td><%= v.variety %></td>
				<td><%= v.color %></td>
				<td><%= v.time %></td>
				<td><%= link_to v.plantation.name, {:controller => 'plantation', :action => 'show', :id => v.plantation_id}%></td>
				<td><%= v.plantation.location %>
				<td><%= v.created_at %></td>
				<td>
				<%= link_to "Edit", vegetable_edit_path(:vegetable_id => v.id)%> |
				<%= link_to "Delete", vegetable_destroy_path(:vegetable_id => v.id), data: {confirm: "Are you sure, you want to delete this item?."} %>
				</td>
			</tr>
			<% end %>
		</tbody>
	</table>
</div>
<% end %>
<div class ="row">
	<div class ="col-sm-6 col-md-offset-3">
		<hr />
		<%= link_to "Add new veggie", {:controller => 'vegetable', :action => 'new'}, class: "btn btn-primary btn-block"%>
		<br />
		<%= link_to "Main Page", {:controller => 'main', :action => 'index'}, class: "btn btn-primary btn-block"%>
	</div>
</div>


